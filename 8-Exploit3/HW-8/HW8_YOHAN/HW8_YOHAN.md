# Bof 7 Write-up

![7_code](7_code1.jpg)
- bof7.c의 코드를 확인한다
- bof6.c와 비슷하지만 메인에서 인자를 받는 것을 확인할 수 있다. 
- 메인에서 인자를 받는 경우 스택의 주소값이 밀리기 때문에 의도했던 대로 버퍼 값의 주소를 알 수가 없는 상황이 발생한다. 
- 여기서 해야 할 것은 크게 세가지 이다.
  1. 버퍼에서부터 리턴 어드레스까지의 거리를 구한다
  2. 그 거리를 A라고 했을 때 A + 8바이트로 리턴 어드레스를 덮어 써야 한다. 
  3. 그러기 위해서 144바이트를 인자로 전달 한 후에 버퍼 주소를 알아 내서 그 버퍼 주소로 리턴 어드레스 주소를 덮어 써야 한다. 
- 위의 3가지 과정을 거칠 때 쉘 코드를 실행하고 동시에 우리가 원하는 bof8의 비밀번호를 알아낼 수 있다.  

![7_code](7_code2.jpg)
- 인자를 늘릴 때마다 버퍼의 주소값이 바뀌는걸 알 수 있다. 
- buf 부터 리턴 어드레스 사이까지의 거리가 136이라는 것을 아는 상황에서 8바이트 주소값을 덮어 써야 하기 때문에 144바이트를 인자로 넘기고 그때의 buf 주소를 구한다

![7_code](7_code4.jpg)
- 144바이트를 넘겼을때의 buf주소는 0x7fffffffe410이다
- 페이로드를 만드는데 쉘코드를 인자로 넘기고 마지막에 8바이트만큼 방금 구했던 buf 주소를 넘기고 그 중간은 쓰레기 값으로 채운다. 

![7_code](7_code5.jpg)
- bof8의 주소를 구했다


# Bof 8 Write-up

![8_code](8_code2.jpg)
- bof8의 코드를 확인한다
- 쉘코드를 환경변수로 설정해주는 것을 알 수 있다.
- 코드에서 버퍼의 주소와 쉘코드의 주소를 출력해주는데 이 쉘코드의 주소를 인자로 버퍼에 인자로 넘김으로서 상승권한을 얻을 수 있다. 

![8_code](8_code1.jpg)
- bof9의 비밀번호를 얻었다. 

# Bof 9 Write-up

![9_code](9_code1.jpg)
![9_code](9_code111.jpg)
- bof9.c의 코드를 확인한다



